<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Introduction to Rstudio, and seeing what R can do</title>

<script src="site_libs/header-attrs-2.7/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R seminar</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Syllabus</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-display"></span>
     
    WPAs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="wpa1.html">WPA 1</a>
    </li>
    <li>
      <a href="wpa2.html">WPA 2</a>
    </li>
    <li>
      <a href="wpa3.html">WPA 3</a>
    </li>
    <li>
      <a href="wpa4.html">WPA 4</a>
    </li>
    <li>
      <a href="wpa5.html">WPA 5</a>
    </li>
    <li>
      <a href="wpa6.html">WPA 6</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-display-arrow-down"></span>
     
    Solutions
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="wpa1_solutions.html">WPA 1</a>
    </li>
    <li>
      <a href="wpa2_solutions.html">WPA 2</a>
    </li>
    <li>
      <a href="wpa3_solutions.html">WPA 3</a>
    </li>
    <li>
      <a href="wpa4_solutions.html">WPA 4</a>
    </li>
    <li>
      <a href="wpa5_solutions.html">WPA 5</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Introduction to Rstudio, and seeing what R can do</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#rstudio">1. RStudio</a>
<ul>
<li><a href="#rstudio-panes">RStudio panes</a></li>
<li><a href="#code-completion">Code completion</a></li>
<li><a href="#environment-browser">Environment browser</a></li>
<li><a href="#run-some-code-in-your-script-file">Run some code in your script file</a></li>
<li><a href="#retrieving-previous-commands">Retrieving previous commands</a></li>
</ul></li>
<li><a href="#install-and-load-packages">2. Install and load packages</a></li>
<li><a href="#load-and-inspect-some-data">3. Load and inspect some data</a>
<ul>
<li><a href="#continuous-variables">Continuous variables</a></li>
<li><a href="#discrete-variables">Discrete variables</a></li>
</ul></li>
<li><a href="#now-its-your-turn">4. Now it’s your turn</a></li>
<li><a href="#submit-your-assignment">Submit your assignment</a></li>
</ul>
</div>

<div id="rstudio" class="section level1">
<h1>1. RStudio</h1>
<p>Open RStudio.</p>
<div id="rstudio-panes" class="section level2">
<h2>RStudio panes</h2>
<p>The RStudio interface consists of four main panes, or windows.</p>
<ul>
<li><strong>Bottom left</strong>: console or command window. Here you can type any valid R command after the &gt; prompt followed by Enter and R will execute that command.</li>
<li><strong>Top left</strong>: text editor or script window. This is where you can save and edit collections of commands.</li>
<li><strong>Top right</strong>: environment &amp; history window. The environment window contains objects (data, values, functions) R has currently stored in its memory. The history window shows all commands that were executed in the console.</li>
<li><strong>Bottom right</strong>: files, plots, packages, help, &amp; viewer pane. Here you can open files, view plots, install and load packages, read man pages, and view markdown and other documents in the viewer tab.</li>
</ul>
<p>The location of these windows can be changed by clicking Tools &gt; Global Options &gt; Pane Layout.</p>
<p>You may have noticed that, by default, there is no text editor window open. In order to open one, click File &gt; New File &gt; R Script. Alternatively, click the ‘Add new document’ symbol and select R Script.</p>
<p>Open a new R script in R and <strong>save it as</strong> <code>wpa_1_LastFirst.R</code> (where Last and First is your last and first name).</p>
<p>Careful about capitalizing, and using <code>_</code> and <strong>not</strong>, e.g., <code>WPA-1-LastFirst.R</code></p>
<p>At the top of your script, write the following (<strong>with appropriate changes</strong>):</p>
<pre><code># Assignment: WPA 1
# Name: Laura Fontanesi
# Date: 15 March 2022</code></pre>
</div>
<div id="code-completion" class="section level2">
<h2>Code completion</h2>
<p>RStudio supports automatic completion of code using the <strong>Tab key</strong>.</p>
<p>For example, let’s create a new object, named <code>my_block_rewards</code>:</p>
<pre class="r"><code>my_block_rewards = c(34, 36, 90)</code></pre>
<p>Now, you can type <code>my</code> and then press Tab and RStudio will automatically complete the full name of the object if <code>my</code> is unique; otherwise, RStudio will list all of the objects (or functions) starting with <code>my</code> in your current environment.</p>
<p>Try now to define another object starting with <code>my</code> and see what happens.</p>
<pre class="r"><code>my_score = .4</code></pre>
<p>Code completion also works for function arguments.</p>
<p><code>data()</code> is a function to load one of R preset dataframes.</p>
<p>Type <code>data(m</code> in the console, then hit Tab to bring up a list of options. RStudio will automatically add a closing parenthesis for you, but your cursor needs to be between the two parentheses for tab completion to work.</p>
<p>Choose <code>mtcars</code> from the list and press Enter. What happens?</p>
</div>
<div id="environment-browser" class="section level2">
<h2>Environment browser</h2>
<p>The <code>mtcars</code> object should have appeared in your environment tab.</p>
<p>The environment tab is in the top right window, which displays the R objects that exist in the global environment. These are the objects that were created by you in your current session.</p>
<p>If you click the load symbol next to the <code>mtcars</code> object, you can see the structure of the object. You can also click the view icon load to have a table view of the dataset. This might come useful at times.</p>
</div>
<div id="run-some-code-in-your-script-file" class="section level2">
<h2>Run some code in your script file</h2>
<p>What we want to do most of time is to run our code from the script and not from the console. This will help us writing more complicated functions and keep track of exactly what we have been doing up to that point.</p>
<p>You always have the choice to run part of it or the whole code. I suggest (particularly at the begginning) to always run from the start to the end of your code, and to make sure that your workspace is clean at the beginning.</p>
<p>It’s very useful to use shortcuts for this, for example:</p>
<table>
<thead>
<tr class="header">
<th>Description</th>
<th>Windows &amp; Linux</th>
<th>Mac</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Run current line/selection</td>
<td>Ctrl+Enter</td>
<td>Command+Enter</td>
</tr>
<tr class="even">
<td>Run current line/selection (retain cursor position)</td>
<td>Alt+Enter</td>
<td>Option+Enter</td>
</tr>
<tr class="odd">
<td>Run current document</td>
<td>Ctrl+Alt+R</td>
<td>Command+Option+R</td>
</tr>
<tr class="even">
<td>Run from document beginning to current line</td>
<td>Ctrl+Alt+B</td>
<td>Command+Option+B</td>
</tr>
<tr class="odd">
<td>Run from current line to document end</td>
<td>Ctrl+Alt+E</td>
<td>Command+Option+E</td>
</tr>
</tbody>
</table>
<p>See <a href="https://support.rstudio.com/hc/en-us/articles/200711853-Keyboard-Shortcuts">here</a> for more.</p>
<p>Practice with the following chunk of code:</p>
<pre class="r"><code>data(mtcars)

head(mtcars)</code></pre>
<pre><code>##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
<pre class="r"><code>colnames(mtcars)</code></pre>
<pre><code>##  [1] &quot;mpg&quot;  &quot;cyl&quot;  &quot;disp&quot; &quot;hp&quot;   &quot;drat&quot; &quot;wt&quot;   &quot;qsec&quot; &quot;vs&quot;   &quot;am&quot;   &quot;gear&quot; &quot;carb&quot;</code></pre>
<pre class="r"><code>colnames(mtcars)[1] = &#39;MPG&#39;

head(mtcars)</code></pre>
<pre><code>##                    MPG cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
</div>
<div id="retrieving-previous-commands" class="section level2">
<h2>Retrieving previous commands</h2>
<p>It’s often the case that you want to re-execute commands that you previously entered. The RStudio console supports the ability to recall previous commands using the arrow keys:</p>
<ul>
<li>Up — Recall previous command(s)</li>
<li>Down — Reverse of Up</li>
</ul>
<p>You can even view a list of your recent commands by pressing Ctrl+Up on Windows or Command+Up on a Mac.</p>
<p>See <a href="https://twitter.com/rstudiotips">here</a> for more RStudio tips.</p>
</div>
</div>
<div id="install-and-load-packages" class="section level1">
<h1>2. Install and load packages</h1>
<pre><code>install.packages(&#39;tidyverse&#39;)</code></pre>
<pre class="r"><code>library(tidyverse)</code></pre>
</div>
<div id="load-and-inspect-some-data" class="section level1">
<h1>3. Load and inspect some data</h1>
<pre class="r"><code># load data without downloading

con = url(&#39;https://github.com/laurafontanesi/r-seminar22/blob/main/data/movies.RData?raw=true&#39;)
load(con)
close(con)</code></pre>
<pre class="r"><code># command to list all the variables in your workspace
ls()</code></pre>
<pre><code>## [1] &quot;anova_fit&quot;        &quot;con&quot;              &quot;movies&quot;           &quot;mtcars&quot;           &quot;my_block_rewards&quot; &quot;my_score&quot;        
## [7] &quot;regression_fit&quot;   &quot;x&quot;</code></pre>
<pre class="r"><code># inspect the first 5 lines of a dataset

movies %&gt;%
  slice(1:5)</code></pre>
<pre><code>## # A tibble: 5 x 32
##   title  title_type genre runtime mpaa_rating studio thtr_rel_year thtr_rel_month thtr_rel_day dvd_rel_year dvd_rel_month
##   &lt;chr&gt;  &lt;fct&gt;      &lt;fct&gt;   &lt;dbl&gt; &lt;fct&gt;       &lt;fct&gt;          &lt;dbl&gt;          &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;
## 1 Filly… Feature F… Drama      80 R           Indom…          2013              4           19         2013             7
## 2 The D… Feature F… Drama     101 PG-13       Warne…          2001              3           14         2001             8
## 3 Waiti… Feature F… Come…      84 R           Sony …          1996              8           21         2001             8
## 4 The A… Feature F… Drama     139 PG          Colum…          1993             10            1         2001            11
## 5 Malev… Feature F… Horr…      90 R           Ancho…          2004              9           10         2005             4
## # … with 21 more variables: dvd_rel_day &lt;dbl&gt;, imdb_rating &lt;dbl&gt;, imdb_num_votes &lt;int&gt;, critics_rating &lt;fct&gt;,
## #   critics_score &lt;dbl&gt;, audience_rating &lt;fct&gt;, audience_score &lt;dbl&gt;, best_pic_nom &lt;fct&gt;, best_pic_win &lt;fct&gt;,
## #   best_actor_win &lt;fct&gt;, best_actress_win &lt;fct&gt;, best_dir_win &lt;fct&gt;, top200_box &lt;fct&gt;, director &lt;chr&gt;, actor1 &lt;chr&gt;,
## #   actor2 &lt;chr&gt;, actor3 &lt;chr&gt;, actor4 &lt;chr&gt;, actor5 &lt;chr&gt;, imdb_url &lt;chr&gt;, rt_url &lt;chr&gt;</code></pre>
<pre class="r"><code>summary(movies)</code></pre>
<pre><code>##     title                  title_type                 genre        runtime       mpaa_rating 
##  Length:651         Documentary : 55   Drama             :305   Min.   : 39.0   G      : 19  
##  Class :character   Feature Film:591   Comedy            : 87   1st Qu.: 92.0   NC-17  :  2  
##  Mode  :character   TV Movie    :  5   Action &amp; Adventure: 65   Median :103.0   PG     :118  
##                                        Mystery &amp; Suspense: 59   Mean   :105.8   PG-13  :133  
##                                        Documentary       : 52   3rd Qu.:115.8   R      :329  
##                                        Horror            : 23   Max.   :267.0   Unrated: 50  
##                                        (Other)           : 60   NA&#39;s   :1                    
##                               studio    thtr_rel_year  thtr_rel_month   thtr_rel_day    dvd_rel_year  dvd_rel_month   
##  Paramount Pictures              : 37   Min.   :1970   Min.   : 1.00   Min.   : 1.00   Min.   :1991   Min.   : 1.000  
##  Warner Bros. Pictures           : 30   1st Qu.:1990   1st Qu.: 4.00   1st Qu.: 7.00   1st Qu.:2001   1st Qu.: 3.000  
##  Sony Pictures Home Entertainment: 27   Median :2000   Median : 7.00   Median :15.00   Median :2004   Median : 6.000  
##  Universal Pictures              : 23   Mean   :1998   Mean   : 6.74   Mean   :14.42   Mean   :2004   Mean   : 6.333  
##  Warner Home Video               : 19   3rd Qu.:2007   3rd Qu.:10.00   3rd Qu.:21.00   3rd Qu.:2008   3rd Qu.: 9.000  
##  (Other)                         :507   Max.   :2014   Max.   :12.00   Max.   :31.00   Max.   :2015   Max.   :12.000  
##  NA&#39;s                            :  8                                                  NA&#39;s   :8      NA&#39;s   :8       
##   dvd_rel_day     imdb_rating    imdb_num_votes           critics_rating critics_score    audience_rating
##  Min.   : 1.00   Min.   :1.900   Min.   :   180   Certified Fresh:135    Min.   :  1.00   Spilled:275    
##  1st Qu.: 7.00   1st Qu.:5.900   1st Qu.:  4546   Fresh          :209    1st Qu.: 33.00   Upright:376    
##  Median :15.00   Median :6.600   Median : 15116   Rotten         :307    Median : 61.00                  
##  Mean   :15.01   Mean   :6.493   Mean   : 57533                          Mean   : 57.69                  
##  3rd Qu.:23.00   3rd Qu.:7.300   3rd Qu.: 58300                          3rd Qu.: 83.00                  
##  Max.   :31.00   Max.   :9.000   Max.   :893008                          Max.   :100.00                  
##  NA&#39;s   :8                                                                                               
##  audience_score  best_pic_nom best_pic_win best_actor_win best_actress_win best_dir_win top200_box   director        
##  Min.   :11.00   no :629      no :644      no :558        no :579          no :608      no :636    Length:651        
##  1st Qu.:46.00   yes: 22      yes:  7      yes: 93        yes: 72          yes: 43      yes: 15    Class :character  
##  Median :65.00                                                                                     Mode  :character  
##  Mean   :62.36                                                                                                       
##  3rd Qu.:80.00                                                                                                       
##  Max.   :97.00                                                                                                       
##                                                                                                                      
##     actor1             actor2             actor3             actor4             actor5            imdb_url        
##  Length:651         Length:651         Length:651         Length:651         Length:651         Length:651        
##  Class :character   Class :character   Class :character   Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character   Mode  :character   Mode  :character   Mode  :character  
##                                                                                                                   
##                                                                                                                   
##                                                                                                                   
##                                                                                                                   
##     rt_url         
##  Length:651        
##  Class :character  
##  Mode  :character  
##                    
##                    
##                    
## </code></pre>
<div id="continuous-variables" class="section level2">
<h2>Continuous variables</h2>
<pre class="r"><code># plot relationship between two variables, critics_score and audience_score

ggplot(data = movies, aes(x = critics_score, y = audience_score, color=imdb_rating)) +
  geom_jitter() +
  scale_colour_gradient(low = &quot;blue&quot;, high = &quot;gold&quot;, limits=range(movies[,&#39;imdb_rating&#39;])) +
  labs(x = &quot;Critics Score&quot;, y = &quot;Audience Score&quot;, color=&#39;IMDb rating&#39;) +
  ggtitle(&quot;Relationship Between Critics Score And Audience Score On Rotten Tomatoes&quot;)</code></pre>
<p><img src="wpa1_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre class="r"><code># Run a correlation test
cor.test(~ audience_score + critics_score, data = movies)</code></pre>
<pre><code>## 
##  Pearson&#39;s product-moment correlation
## 
## data:  audience_score and critics_score
## t = 25.273, df = 649, p-value &lt; 2.2e-16
## alternative hypothesis: true correlation is not equal to 0
## 95 percent confidence interval:
##  0.6633319 0.7410163
## sample estimates:
##       cor 
## 0.7042762</code></pre>
<pre class="r"><code># Run a regression
regression_fit = lm(formula = audience_score ~ critics_score + imdb_rating, 
                    data = movies)

# Print summary results
summary(regression_fit)</code></pre>
<pre><code>## 
## Call:
## lm(formula = audience_score ~ critics_score + imdb_rating, data = movies)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -26.668  -6.758   0.723   5.513  52.438 
## 
## Coefficients:
##                Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)   -37.03195    2.86401 -12.930  &lt; 2e-16 ***
## critics_score   0.07318    0.02161   3.386 0.000753 ***
## imdb_rating    14.65760    0.56590  25.901  &lt; 2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 10.08 on 648 degrees of freedom
## Multiple R-squared:  0.7524, Adjusted R-squared:  0.7516 
## F-statistic: 984.4 on 2 and 648 DF,  p-value: &lt; 2.2e-16</code></pre>
<pre class="r"><code>cormat = cor(movies[, c(&#39;audience_score&#39;, &#39;critics_score&#39;, &#39;imdb_rating&#39;, &#39;imdb_num_votes&#39;)])
cormat</code></pre>
<pre><code>##                audience_score critics_score imdb_rating imdb_num_votes
## audience_score      1.0000000     0.7042762   0.8648652      0.2898128
## critics_score       0.7042762     1.0000000   0.7650355      0.2092508
## imdb_rating         0.8648652     0.7650355   1.0000000      0.3311525
## imdb_num_votes      0.2898128     0.2092508   0.3311525      1.0000000</code></pre>
</div>
<div id="discrete-variables" class="section level2">
<h2>Discrete variables</h2>
<pre class="r"><code>ggplot(data = movies, aes(x = best_pic_nom, y = audience_score, fill = best_dir_win)) +
  geom_boxplot() +
  labs(x = &quot;Movie Was Nominated For A Best Picture Oscar&quot;, y = &quot;Audience Score&quot;, fill = &quot;Director won oscar&quot;) +
  ggtitle(&quot;Relationship Between Audience Score, Movie Picture Oscar and Director Achievement&quot;)</code></pre>
<p><img src="wpa1_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<pre class="r"><code># Run an ANOVA
anova_fit = aov(formula = audience_score ~ best_pic_nom * best_dir_win, 
                data = movies)

# Print summary results
summary(anova_fit)</code></pre>
<pre><code>##                            Df Sum Sq Mean Sq F value   Pr(&gt;F)    
## best_pic_nom                1  11999   11999  30.712 4.36e-08 ***
## best_dir_win                1   1014    1014   2.597    0.108    
## best_pic_nom:best_dir_win   1     38      38   0.097    0.756    
## Residuals                 647 252769     391                     
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<pre class="r"><code>ggplot(data = movies, aes(x = thtr_rel_year)) +
  geom_bar() +
  ggtitle(&quot;Number of movies in the database per release year&quot;) +
  labs(x = &quot;Theatrical release year&quot;, y = &quot;Count&quot;)</code></pre>
<p><img src="wpa1_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
</div>
</div>
<div id="now-its-your-turn" class="section level1">
<h1>4. Now it’s your turn</h1>
<p><strong>Task A</strong></p>
<ol style="list-style-type: decimal">
<li>Plot the relationship between: <code>imdb_rating</code>, <code>imdb_num_votes</code> and <code>audience_score</code>.</li>
<li>Change the coloring of the scatterplot. You can either have a look <a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">here</a> or simply change the two colors in the gradients, and have a look for example <a href="http://sape.inf.usi.ch/quick-reference/ggplot2/colour">here</a>.</li>
<li>Compute the regression for such relationship.</li>
</ol>
<p><strong>Task B</strong></p>
<ol style="list-style-type: decimal">
<li>Plot the relationship between <code>best_actor_win</code>, <code>best_actress_win</code> and <code>audience_score</code>.</li>
<li>Compute the ANOVA for such relationship.</li>
</ol>
<p><strong>Task C</strong></p>
<ol style="list-style-type: decimal">
<li>Plot the number of movies in each <code>mpaa_rating</code> category.</li>
</ol>
</div>
<div id="submit-your-assignment" class="section level1">
<h1>Submit your assignment</h1>
<p>Save and email your <code>wpa_1_LastFirst.R</code> script to me at <a href="mailto:laura.fontanesi@unibas.ch">laura.fontanesi@unibas.ch</a> by the end of the day.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
