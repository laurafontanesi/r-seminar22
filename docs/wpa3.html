<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Importing data</title>

<script src="site_libs/header-attrs-2.7/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R seminar</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Syllabus</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-display"></span>
     
    WPAs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="wpa1.html">WPA 1</a>
    </li>
    <li>
      <a href="wpa2.html">WPA 2</a>
    </li>
    <li>
      <a href="wpa3.html">WPA 3</a>
    </li>
    <li>
      <a href="wpa4.html">WPA 4</a>
    </li>
    <li>
      <a href="wpa5.html">WPA 5</a>
    </li>
    <li>
      <a href="wpa6.html">WPA 6</a>
    </li>
    <li>
      <a href="wpa7.html">WPA 7</a>
    </li>
    <li>
      <a href="wpa8.html">WPA 8</a>
    </li>
    <li>
      <a href="wpa9.html">WPA 9</a>
    </li>
    <li>
      <a href="wpa10.html">WPA 10</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-display-arrow-down"></span>
     
    Solutions
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="wpa1_solutions.html">WPA 1</a>
    </li>
    <li>
      <a href="wpa2_solutions.html">WPA 2</a>
    </li>
    <li>
      <a href="wpa3_solutions.html">WPA 3</a>
    </li>
    <li>
      <a href="wpa4_solutions.html">WPA 4</a>
    </li>
    <li>
      <a href="wpa5_solutions.html">WPA 5</a>
    </li>
    <li>
      <a href="wpa6_solutions.html">WPA 6</a>
    </li>
    <li>
      <a href="wpa7_solutions.html">WPA 7</a>
    </li>
    <li>
      <a href="wpa8_solutions.html">WPA 8</a>
    </li>
    <li>
      <a href="wpa9_solutions.html">WPA 9</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Importing data</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#importing-data">1. Importing data</a>
<ul>
<li><a href="#different-functions-to-read-tabular-data-from-file">Different functions to read tabular data from file:</a></li>
<li><a href="#different-functions-to-read-other-data-formats">Different functions to read other data formats:</a></li>
</ul></li>
<li><a href="#file-paths-for-local-files">2. File paths for local files</a></li>
<li><a href="#file-on-a-website-load-and-save">3. File on a website: load and save</a></li>
<li><a href="#get-raw-files-from-github">4. Get raw files from GitHub</a></li>
<li><a href="#now-its-your-turn">5. Now it’s your turn</a></li>
<li><a href="#submit-your-assignment">Submit your assignment</a></li>
</ul>
</div>

<p>Open RStudio.</p>
<p>Open a new R script in R and <strong>save it as</strong> <code>wpa_3_LastFirst.R</code> (where Last and First is your last and first name).</p>
<p>Careful about: capitalizing, last and first name order, and using <code>_</code> instead of <code>-</code>.</p>
<p>At the top of your script, write the following (<strong>with appropriate changes</strong>):</p>
<pre><code># Assignment: WPA 3
# Name: Laura Fontanesi
# Date: 29 March 2022</code></pre>
<div id="importing-data" class="section level1">
<h1>1. Importing data</h1>
<p>Up to this point, I gave you the code to load datasets in R.</p>
<p>Say instead you have your own data saved on your computer or somewhere online. How can you analyze this data in R?</p>
<p>You have two main ways to do it: - using the “Import Dataset” button in the “Environment” tab in R Studio - using code</p>
<p>Today, we will learn how to import data using code within the the tidyverse package. This allow us to import data directly into tidyverse objects (i.e., tibbles, as we will see in the next 2 lessons).</p>
<p>The specific sub-package for importing data is called <a href="https://readr.tidyverse.org/reference/index.html">readr</a>.</p>
<p>Data can come from different sources, e.g.: - text files stored locally - text files from a website</p>
<p>The functions you will use, depend on the specific format the data were written in:</p>
<div id="different-functions-to-read-tabular-data-from-file" class="section level2">
<h2>Different functions to read tabular data from file:</h2>
<ul>
<li><p><code>read_delim()</code> is the principal and more general means of reading tabular data into R</p></li>
<li><p><code>read_csv()</code> sets the default separator to a comma</p></li>
<li><p><code>read_csv2()</code> is its European cousin, using a comma for decimal places and a semicolon as a separator</p></li>
<li><p><code>read_tsv()</code> import tab-delimited files</p></li>
</ul>
</div>
<div id="different-functions-to-read-other-data-formats" class="section level2">
<h2>Different functions to read other data formats:</h2>
<ul>
<li><p>Excel files: <a href="https://readxl.tidyverse.org/reference/read_excel.html" class="uri">https://readxl.tidyverse.org/reference/read_excel.html</a></p></li>
<li><p>STATA, SPSS, SAS files: <a href="https://haven.tidyverse.org/" class="uri">https://haven.tidyverse.org/</a></p></li>
</ul>
</div>
</div>
<div id="file-paths-for-local-files" class="section level1">
<h1>2. File paths for local files</h1>
<p>At this point, you should have a folder on your laptop for our R course, where you stored all your scripts. Create a subfolder called <code>data</code>.</p>
<p>When you are done, download the content of this folder ‘<a href="https://www.dropbox.com/sh/kw6o7ztouwpiawk/AACG5YtjeF58YaKjkK9h428Ka?dl=0" class="uri">https://www.dropbox.com/sh/kw6o7ztouwpiawk/AACG5YtjeF58YaKjkK9h428Ka?dl=0</a>’ in your <code>data</code> folder, so that the 5 data files are in your <code>data</code> folder.</p>
<p>To load these files in R, we need to write the path to your data folder. We can do this using code completion (Tab key): - On Mac, you can start from <code>read_delim('~/')</code> (or similar functions for loading data) and press Tab, to start navigating from your home folder - On Windows, you can do the same, but starting from <code>read_delim('C:\Users\')</code></p>
<p>In my case, this folder was on Dropbox:</p>
<pre class="r"><code>library(tidyverse)

data_a = read_delim(&#39;~/Dropbox/teaching/r-course22/data/data_to_import_a.txt&#39;, delim=&#39;\t&#39;)</code></pre>
<pre><code>## 
## ── Column specification ────────────────────────────────────────────────────────
## cols(
##   index = col_double(),
##   participant = col_double(),
##   gender = col_character(),
##   age = col_double(),
##   options = col_character(),
##   accuracy = col_double(),
##   RT_msec = col_double()
## )</code></pre>
<pre class="r"><code>head(data_a)</code></pre>
<pre><code>## # A tibble: 6 x 7
##   index participant gender   age options accuracy RT_msec
##   &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;   &lt;dbl&gt;
## 1     1           8 male      18 CD             1    2381
## 2     2           8 male      18 CD             1    1730
## 3     3           8 male      18 AB             1    1114
## 4     4           8 male      18 AC             1     600
## 5     5           8 male      18 CD             1     683
## 6     6           8 male      18 AC             0     854</code></pre>
<pre class="r"><code>data_b = read_csv(&#39;~/Dropbox/teaching/r-course22/data/data_to_import_b.csv&#39;)</code></pre>
<pre><code>## 
## ── Column specification ────────────────────────────────────────────────────────
## cols(
##   id = col_character(),
##   gender = col_double(),
##   age = col_double(),
##   income = col_double(),
##   p1 = col_double(),
##   p2 = col_double(),
##   p3 = col_double(),
##   p4 = col_double(),
##   p5 = col_double(),
##   p6 = col_double(),
##   p7 = col_double(),
##   p8 = col_double(),
##   p9 = col_double(),
##   p10 = col_double(),
##   task = col_double(),
##   havemore = col_double(),
##   haveless = col_double(),
##   pcmore = col_double()
## )</code></pre>
<pre class="r"><code># same as: data_b = read_delim(&#39;~/Dropbox/teaching/r-course22/data/data_to_import_b.csv&#39;, delim = &quot;,&quot;)

head(data_b)</code></pre>
<pre><code>## # A tibble: 6 x 18
##   id         gender   age income    p1    p2    p3    p4    p5    p6    p7    p8
##   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 R_3PtNn51…      2    26      7     1     1     1     1     1     1     1     1
## 2 R_2AXrrg6…      2    32      4     1     1     1     1     1     1     1     1
## 3 R_cwEOX3H…      1    25      2     0     1     1     1     1     1     1     1
## 4 R_d59iPwL…      1    33      5     1     1     1     1     1     1     1     1
## 5 R_1f3K2Hr…      1    24      1     1     1     0     1     1     1     1     1
## 6 R_3oN5ijz…      1    22      2     1     1     0     0     1     1     1     1
## # … with 6 more variables: p9 &lt;dbl&gt;, p10 &lt;dbl&gt;, task &lt;dbl&gt;, havemore &lt;dbl&gt;,
## #   haveless &lt;dbl&gt;, pcmore &lt;dbl&gt;</code></pre>
<pre class="r"><code>data_c = read_csv2(&#39;~/Dropbox/teaching/r-course22/data/data_to_import_c.csv&#39;)</code></pre>
<pre><code>## ℹ Using &quot;&#39;,&#39;&quot; as decimal and &quot;&#39;.&#39;&quot; as grouping mark. Use `read_delim()` for more control.</code></pre>
<pre><code>## 
## ── Column specification ────────────────────────────────────────────────────────
## cols(
##   .default = col_character(),
##   age = col_double(),
##   Medu = col_double(),
##   Fedu = col_double(),
##   traveltime = col_double(),
##   studytime = col_double(),
##   failures = col_double(),
##   famrel = col_double(),
##   freetime = col_double(),
##   goout = col_double(),
##   Dalc = col_double(),
##   Walc = col_double(),
##   health = col_double(),
##   absences = col_double(),
##   G1 = col_double(),
##   G2 = col_double(),
##   G3 = col_double()
## )
## ℹ Use `spec()` for the full column specifications.</code></pre>
<pre class="r"><code>head(data_c)</code></pre>
<pre><code>## # A tibble: 6 x 33
##   school sex     age address famsize Pstatus  Medu  Fedu Mjob     Fjob     reason
##   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt; 
## 1 GP     F        18 U       GT3     A           4     4 at_home  teacher  course
## 2 GP     F        17 U       GT3     T           1     1 at_home  other    course
## 3 GP     F        15 U       LE3     T           1     1 at_home  other    other 
## 4 GP     F        15 U       GT3     T           4     2 health   services home  
## 5 GP     F        16 U       GT3     T           3     3 other    other    home  
## 6 GP     M        16 U       LE3     T           4     3 services other    reput…
## # … with 22 more variables: guardian &lt;chr&gt;, traveltime &lt;dbl&gt;, studytime &lt;dbl&gt;,
## #   failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;, paid &lt;chr&gt;,
## #   activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;, internet &lt;chr&gt;,
## #   romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;, Dalc &lt;dbl&gt;,
## #   Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences &lt;dbl&gt;, G1 &lt;dbl&gt;, G2 &lt;dbl&gt;, G3 &lt;dbl&gt;</code></pre>
<pre class="r"><code>library(readxl)

# maybe try first: install.packages(&quot;readxl&quot;)

data_d = read_excel(&#39;~/Dropbox/teaching/r-course22/data/data_to_import_d.xls&#39;)

head(data_d)</code></pre>
<pre><code>## # A tibble: 6 x 9
##    Year `Average population` `Live births` Deaths `Natural change` `Crude birth ra…
##   &lt;dbl&gt; &lt;chr&gt;                &lt;chr&gt;         &lt;chr&gt;  &lt;chr&gt;                       &lt;dbl&gt;
## 1  1900 3,300,000            94,316        63,606 30,710                       28.6
## 2  1901 3,341,000            97,028        60,018 37,010                       29  
## 3  1902 3,384,000            96,480        57,702 38,778                       28.5
## 4  1903 3,428,000            93,824        59,626 34,198                       27.4
## 5  1904 3,472,000            94,867        60,857 34,010                       27.3
## 6  1905 3,516,000            94,653        61,800 32,853                       26.9
## # … with 3 more variables: Crude death rate (per 1000) &lt;dbl&gt;,
## #   Natural change (per 1000) &lt;dbl&gt;, Total fertility rates &lt;dbl&gt;</code></pre>
<pre class="r"><code>library(haven)
# maybe first: install.packages(&quot;haven&quot;)

data_e = read_sav(&#39;~/Dropbox/teaching/r-course22/data/data_to_import_e.sav&#39;)

head(data_e)</code></pre>
<pre><code>## # A tibble: 6 x 54
##   case_ID         wave      year weight_wave weight_aggregate happening cause_original
##     &lt;dbl&gt;    &lt;dbl+lbl&gt; &lt;dbl+lbl&gt;       &lt;dbl&gt;            &lt;dbl&gt; &lt;dbl+lbl&gt;      &lt;dbl+lbl&gt;
## 1       2 1 [Nov 2008]  1 [2008]        0.54            0.294 3 [Yes]   1 [Caused mos…
## 2       3 1 [Nov 2008]  1 [2008]        0.85            0.463 2 [Don&#39;t… 1 [Caused mos…
## 3       5 1 [Nov 2008]  1 [2008]        0.49            0.267 2 [Don&#39;t… 2 [Caused mos…
## 4       6 1 [Nov 2008]  1 [2008]        0.29            0.158 3 [Yes]   2 [Caused mos…
## 5       7 1 [Nov 2008]  1 [2008]        1.29            0.702 3 [Yes]   1 [Caused mos…
## 6       8 1 [Nov 2008]  1 [2008]        2.56            1.39  2 [Don&#39;t… 2 [Caused mos…
## # … with 47 more variables: cause_other_text &lt;chr&gt;, cause_recoded &lt;dbl+lbl&gt;,
## #   sci_consensus &lt;dbl+lbl&gt;, worry &lt;dbl+lbl&gt;, harm_personally &lt;dbl+lbl&gt;,
## #   harm_US &lt;dbl+lbl&gt;, harm_dev_countries &lt;dbl+lbl&gt;, harm_future_gen &lt;dbl+lbl&gt;,
## #   harm_plants_animals &lt;dbl+lbl&gt;, when_harm_US &lt;dbl+lbl&gt;,
## #   reg_CO2_pollutant &lt;dbl+lbl&gt;, reg_utilities &lt;dbl+lbl&gt;,
## #   fund_research &lt;dbl+lbl&gt;, reg_coal_emissions &lt;dbl+lbl&gt;,
## #   discuss_GW &lt;dbl+lbl&gt;, hear_GW_media &lt;dbl+lbl&gt;, gender &lt;dbl+lbl&gt;, …</code></pre>
</div>
<div id="file-on-a-website-load-and-save" class="section level1">
<h1>3. File on a website: load and save</h1>
<p>Let’s say we want to load in R some data, directly from a website (without saving it to a file). In this case, we get some data from the website “<a href="https://support.spatialkey.com/spatialkey-sample-csv-data/" class="uri">https://support.spatialkey.com/spatialkey-sample-csv-data/</a>”. Instead of writing a local address, we can simply use the same functions with the web address.</p>
<pre class="r"><code>data_transactions = read_csv(&quot;https://support.spatialkey.com/wp-content/uploads/2021/02/Sacramentorealestatetransactions.csv&quot;)</code></pre>
<pre><code>## 
## ── Column specification ────────────────────────────────────────────────────────
## cols(
##   street = col_character(),
##   city = col_character(),
##   zip = col_double(),
##   state = col_character(),
##   beds = col_double(),
##   baths = col_double(),
##   sq__ft = col_double(),
##   type = col_character(),
##   sale_date = col_character(),
##   price = col_double(),
##   latitude = col_double(),
##   longitude = col_double()
## )</code></pre>
<pre class="r"><code>head(data_transactions)</code></pre>
<pre><code>## # A tibble: 6 x 12
##   street   city     zip state  beds baths sq__ft type  sale_date  price latitude
##   &lt;chr&gt;    &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt;    &lt;dbl&gt;
## 1 3526 HI… SACRA… 95838 CA        2     1    836 Resi… Wed May 2… 59222     38.6
## 2 51 OMAH… SACRA… 95823 CA        3     1   1167 Resi… Wed May 2… 68212     38.5
## 3 2796 BR… SACRA… 95815 CA        2     1    796 Resi… Wed May 2… 68880     38.6
## 4 2805 JA… SACRA… 95815 CA        2     1    852 Resi… Wed May 2… 69307     38.6
## 5 6001 MC… SACRA… 95824 CA        2     1    797 Resi… Wed May 2… 81900     38.5
## 6 5828 PE… SACRA… 95841 CA        3     1   1122 Condo Wed May 2… 89921     38.7
## # … with 1 more variable: longitude &lt;dbl&gt;</code></pre>
<p>If we want, we can then save it to file from R, using similar set of functions that start with <code>write_</code> instead of <code>read_</code>. You can use such functions also to save your data in a different format from the original for later use.</p>
<pre class="r"><code># save it to file
write_csv(data_transactions, file = &quot;~/Dropbox/teaching/r-course22/data/Sacramentorealestatetransactions.csv&quot;)</code></pre>
<pre class="r"><code># load it again
data_transactions = read_csv(&quot;~/Dropbox/teaching/r-course22/data/Sacramentorealestatetransactions.csv&quot;)</code></pre>
<pre><code>## 
## ── Column specification ────────────────────────────────────────────────────────
## cols(
##   street = col_character(),
##   city = col_character(),
##   zip = col_double(),
##   state = col_character(),
##   beds = col_double(),
##   baths = col_double(),
##   sq__ft = col_double(),
##   type = col_character(),
##   sale_date = col_character(),
##   price = col_double(),
##   latitude = col_double(),
##   longitude = col_double()
## )</code></pre>
<pre class="r"><code>head(data_transactions)</code></pre>
<pre><code>## # A tibble: 6 x 12
##   street   city     zip state  beds baths sq__ft type  sale_date  price latitude
##   &lt;chr&gt;    &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt;    &lt;dbl&gt;
## 1 3526 HI… SACRA… 95838 CA        2     1    836 Resi… Wed May 2… 59222     38.6
## 2 51 OMAH… SACRA… 95823 CA        3     1   1167 Resi… Wed May 2… 68212     38.5
## 3 2796 BR… SACRA… 95815 CA        2     1    796 Resi… Wed May 2… 68880     38.6
## 4 2805 JA… SACRA… 95815 CA        2     1    852 Resi… Wed May 2… 69307     38.6
## 5 6001 MC… SACRA… 95824 CA        2     1    797 Resi… Wed May 2… 81900     38.5
## 6 5828 PE… SACRA… 95841 CA        3     1   1122 Condo Wed May 2… 89921     38.7
## # … with 1 more variable: longitude &lt;dbl&gt;</code></pre>
</div>
<div id="get-raw-files-from-github" class="section level1">
<h1>4. Get raw files from GitHub</h1>
<p>Go on the <code>data</code> folder where I load the datasets for the seminar: ‘<a href="https://github.com/laurafontanesi/r-seminar22/tree/main/data" class="uri">https://github.com/laurafontanesi/r-seminar22/tree/main/data</a>’.</p>
<p>Click on <code>tdcs.csv</code>.</p>
<p>To be able to load these data in R, we first need to get to the raw data.</p>
<p>You can get them by clickin on <code>View raw</code>. <strong>Note</strong> that for some files, instead of getting to the raw data page, you can directly dowload them to a local directory. From there, you can simply load them in R using the appropriate <code>read_</code> function.</p>
<p>Copy the adress of the page containing the raw data. It should be <a href="https://raw.githubusercontent.com/laurafontanesi/r-seminar22/master/data/tdcs.csv" class="uri">https://raw.githubusercontent.com/laurafontanesi/r-seminar22/master/data/tdcs.csv</a></p>
<p>You can use now this url with one of our <code>read_</code> functions:</p>
<pre class="r"><code>data_tdcs = read_csv(&quot;https://raw.githubusercontent.com/laurafontanesi/r-seminar22/main/data/tdcs.csv&quot;)</code></pre>
<pre><code>## 
## ── Column specification ────────────────────────────────────────────────────────
## cols(
##   RT = col_double(),
##   acc_spd = col_character(),
##   accuracy = col_double(),
##   angle = col_double(),
##   block = col_double(),
##   coherence = col_double(),
##   dataset = col_character(),
##   id = col_character(),
##   left_right = col_double(),
##   subj_idx = col_double(),
##   tdcs = col_character(),
##   trial_NR = col_double()
## )</code></pre>
<pre class="r"><code>head(data_tdcs)</code></pre>
<pre><code>## # A tibble: 6 x 12
##      RT acc_spd accuracy angle block coherence dataset  id    left_right subj_idx
##   &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;      &lt;dbl&gt;    &lt;dbl&gt;
## 1   799 spd            1   180     1     0.417 berkeley S1.1           2        1
## 2   613 spd            1   180     1     0.417 berkeley S1.1           2        1
## 3   627 spd            1   180     1     0.417 berkeley S1.1           1        1
## 4  1280 acc            0   180     1     0.417 berkeley S1.1           1        1
## 5   800 spd            1   180     1     0.417 berkeley S1.1           2        1
## 6   760 acc            1   180     1     0.417 berkeley S1.1           2        1
## # … with 2 more variables: tdcs &lt;chr&gt;, trial_NR &lt;dbl&gt;</code></pre>
</div>
<div id="now-its-your-turn" class="section level1">
<h1>5. Now it’s your turn</h1>
<p><strong>Task A</strong></p>
<p>From the <a href="https://github.com/laurafontanesi/r-seminar22/tree/main/data">data folder on Github</a>, get the data sets in the list below. Load them in R giving the respective names: <code>qualtrics_data</code>, <code>data_f</code>, <code>data_g</code>, <code>data_h</code>. Inspect them using <code>head()</code> or <code>glimpse()</code>. Finally, save them to your local <code>data</code> directory (that you should have as a sub-directory in your R course directory) as <code>csv</code> files.</p>
<ol style="list-style-type: decimal">
<li>20180321_qualtrics_managers_historical_social_comparisons.dta</li>
<li>data_to_import_f.csv</li>
<li>data_to_import_g.csv</li>
<li>data_to_import_h.csv</li>
</ol>
<p><strong>Task B</strong></p>
<p>Go to this website: <a href="https://www.britishelectionstudy.com/data-objects/cross-sectional-data/" class="uri">https://www.britishelectionstudy.com/data-objects/cross-sectional-data/</a> (you can register for free).</p>
<p>Download the 2017 Face-to-face Post-election Survey Version 1.5 <strong>SPSS file</strong> in your local <code>data</code> directory (see above). Then, load it in R assigning it to the name <code>british_cross_sectional_data</code> using the appropriate function for SPSS files and inspect it using <code>head()</code> or <code>glimpse()</code>.</p>
</div>
<div id="submit-your-assignment" class="section level1">
<h1>Submit your assignment</h1>
<p>Save and email your script to me at <a href="mailto:laura.fontanesi@unibas.ch">laura.fontanesi@unibas.ch</a> by the end of <strong>Friday</strong>.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
